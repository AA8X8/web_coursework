<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head"/>
<body class="dark-theme">
<div th:replace="fragments/navbar"></div>
<main class="container">
    <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
    <div class="hero text-center dark-hero">
        <h1>–ù–∞–π–¥–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–π —Å—Ç–æ–ª–∏–∫</h1>
        <p>–ë—Ä–æ–Ω–∏—Ä—É–π—Ç–µ —Å—Ç–æ–ª—ã –≤ –ª—É—á—à–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö –≥–æ—Ä–æ–¥–∞ –æ–Ω–ª–∞–π–Ω</p>

        <!-- –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ -->
        <form method="get" action="/restaurants/all" style="max-width: 600px; margin: 2rem auto;">
            <div style="display: flex; gap: 0.5rem;">
                <button type="submit" class="dark-button">–ù–∞–π—Ç–∏</button>
            </div>
        </form>
    </div>

    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div class="text-center" style="margin: 3rem 0;">
        <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω –ø–æ –≤–∞—à–∏–º –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º</p>
    </div>

    <div class="grid">
        <div class="text-center">
            <a href="/restaurants/all?priceLevel=1" style="text-decoration: none; color: inherit;">
                <div class="card dark-card">
                    <h3>üí∞ –ù–∏–∑–∫–∞—è —Ü–µ–Ω–∞</h3>
                    <p>–ë—é–¥–∂–µ—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</p>
                </div>
            </a>
        </div>
        <div class="text-center">
            <a href="/restaurants/all?cuisine=–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è" style="text-decoration: none; color: inherit;">
                <div class="card dark-card">
                    <h3>üçù –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è</h3>
                    <p>–ü–∞—Å—Ç–∞, –ø–∏—Ü—Ü–∞ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ</p>
                </div>
            </a>
        </div>
        <div class="text-center">
            <a href="/restaurants/all?sortBy=rating" style="text-decoration: none; color: inherit;">
                <div class="card dark-card">
                    <h3>‚≠ê –í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</h3>
                    <p>–¢–æ–ø–æ–≤—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</p>
                </div>
            </a>
        </div>
    </div>

    <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã -->
    <div class="text-center" style="margin: 3rem 0;">
        <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</h2>
        <p>–°–∞–º—ã–µ –ø–æ—Å–µ—â–∞–µ–º—ã–µ –º–µ—Å—Ç–∞ —ç—Ç–æ–≥–æ –º–µ—Å—è—Ü–∞</p>
    </div>

    <div class="grid">
        <div th:each="restaurant : ${popularRestaurants}" class="card dark-card">
            <img th:src="${restaurant.photoUrl != null and !restaurant.photoUrl.isEmpty()} ? ${restaurant.photoUrl} : '/pic/restaurant-default.jpg'"
                 alt="–†–µ—Å—Ç–æ—Ä–∞–Ω"
                 class="restaurant-image dark-image"
                 onerror="this.src='/pic/restaurant-default.jpg'">
            <div style="margin-top: 1rem;">
                <h3 style="margin-top: 0;" th:text="${restaurant.name}"></h3>
                <div style="margin-bottom: 0.5rem;">
                    <span class="cuisine-badge dark-badge" th:text="${restaurant.cuisine}"></span>
                    <span th:if="${restaurant.priceLevel == 1}" class="cuisine-badge dark-badge" style="background-color: #28a745;">üí∞</span>
                    <span th:if="${restaurant.priceLevel == 2}" class="cuisine-badge dark-badge" style="background-color: #ffc107;">üí∞üí∞</span>
                    <span th:if="${restaurant.priceLevel == 3}" class="cuisine-badge dark-badge" style="background-color: #dc3545;">üí∞üí∞üí∞</span>
                </div>
                <p><strong>–†–µ–π—Ç–∏–Ω–≥:</strong>
                    <span class="rating-stars" th:text="${restaurant.rating} + ' ‚≠ê'"></span>
                </p>
                <p><strong>–ê–¥—Ä–µ—Å:</strong> <span th:text="${restaurant.address}"></span></p>
                <a th:href="@{/restaurants/details/{name}(name=${restaurant.name})}"
                   style="display: block; text-align: center; padding: 0.75rem; border: 1px solid #3498db; border-radius: 0.375rem; text-decoration: none; color: #3498db; margin-top: 1rem;">
                    –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                </a>
            </div>
        </div>
    </div>

    <!-- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é -->
    <div class="text-center dark-cta" style="margin-top: 3rem; padding: 2rem; border-radius: 0.375rem;">
        <h2>–ù–∞—á–Ω–∏—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —É–∂–µ —Å–µ–≥–æ–¥–Ω—è!</h2>
        <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ 10% —Å–∫–∏–¥–∫—É –Ω–∞ –ø–µ—Ä–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</p>
        <div style="margin-top: 1rem; display: flex; gap: 1rem; justify-content: center;">
            <a href="/users/register" class="dark-button cta-button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            <a href="/restaurants/all" class="dark-button secondary-button">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</a>
        </div>
    </div>
</main>
<footer th:replace="fragments/footer"></footer>

<style>
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
    :root {
        --dark-bg: #1a1a1a;
        --card-bg: #2d2d2d;
        --card-border: #404040;
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
        --accent-color: #3498db;
        --accent-hover: #2980b9;
        --badge-bg: #3a3a3a;
        --success-bg: #155724;
        --error-bg: #721c24;
        --cta-bg: #2d2d2d;
    }

    /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    body.dark-theme {
        background-color: var(--dark-bg);
        color: var(--text-primary);
    }

    /* –¢–µ–º–Ω—ã–π –≥–µ—Ä–æ–π */
    .dark-hero {
        background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        background-size: cover;
        color: white;
        padding: 4rem 0;
        border-radius: 0.5rem;
        margin-bottom: 2rem;
    }

    /* –¢–µ–º–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .dark-card {
        background-color: var(--card-bg);
        border: 1px solid var(--card-border);
        border-radius: 8px;
        padding: 1.5rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
    }

    .dark-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        border-color: var(--accent-color);
    }

    /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
    .dark-card h3 {
        color: var(--text-primary);
        margin-top: 0;
        font-size: 1.4rem;
        border-bottom: 2px solid var(--accent-color);
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
    }

    /* –¢–µ–∫—Å—Ç –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
    .dark-card p {
        color: var(--text-secondary);
        margin: 0.5rem 0;
    }

    /* –¢–µ–º–Ω—ã–µ –±–µ–π–¥–∂–∏ */
    .dark-badge {
        background-color: var(--badge-bg);
        color: var(--accent-color);
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.9rem;
        border: 1px solid var(--accent-color);
        display: inline-block;
        margin-bottom: 0.5rem;
        margin-right: 0.5rem;
    }

    /* –ó–≤–µ–∑–¥—ã —Ä–µ–π—Ç–∏–Ω–≥–∞ */
    .rating-stars {
        color: #ffd700;
        font-weight: bold;
        font-size: 1.1rem;
    }

    /* –¢–µ–º–Ω—ã–π –∏–Ω–ø—É—Ç */
    .dark-input {
        background-color: var(--card-bg);
        color: var(--text-primary);
        border: 1px solid var(--card-border);
        border-radius: 6px;
        padding: 0.75rem;
    }

    .dark-input::placeholder {
        color: #888;
    }

    .dark-input:focus {
        border-color: var(--accent-color);
        outline: none;
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }

    /* –¢–µ–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
    .dark-button {
        background-color: var(--accent-color);
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        transition: all 0.3s ease;
        font-size: 1rem;
    }

    .dark-button:hover {
        background-color: var(--accent-hover);
        transform: translateY(-2px);
    }

    /* –í—Ç–æ—Ä–∞—è –∫–Ω–æ–ø–∫–∞ –≤ CTA */
    .secondary-button {
        background-color: #555;
        color: white;
        border: 1px solid #666;
    }

    .secondary-button:hover {
        background-color: #666;
        border-color: var(--accent-color);
        color: var(--accent-color);
    }

    /* –ö–Ω–æ–ø–∫–∏ CTA */
    .cta-button {
        background-color: var(--accent-color);
        color: white;
    }

    /* –¢–µ–º–Ω—ã–π CTA –±–ª–æ–∫ */
    .dark-cta {
        background-color: var(--cta-bg);
        border: 1px solid var(--card-border);
        color: var(--text-primary);
    }

    /* –°–µ—Ç–∫–∞ –≥—Ä–∏–¥–∞ */
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
        margin-bottom: 2rem;
    }

    /* –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ */
    .dark-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 6px;
        border: 2px solid var(--card-border);
        transition: transform 0.3s ease, border-color 0.3s ease;
    }

    .dark-image:hover {
        border-color: var(--accent-color);
        transform: scale(1.02);
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }

    /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    h1, h2 {
        color: var(--text-primary);
    }

    p {
        color: var(--text-secondary);
    }

    /* –°—Å—ã–ª–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ */
    .dark-card a {
        display: block;
        text-align: center;
        padding: 0.75rem;
        border: 1px solid var(--accent-color);
        border-radius: 0.375rem;
        text-decoration: none;
        color: var(--accent-color);
        margin-top: 1rem;
        transition: all 0.3s ease;
    }

    .dark-card a:hover {
        background-color: var(--accent-color);
        color: white;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
        .grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .container {
            padding: 1rem;
        }

        .dark-cta div {
            flex-direction: column;
            gap: 0.5rem;
        }

        .dark-button {
            width: 100%;
            padding: 0.75rem;
        }
    }

    @media (max-width: 480px) {
        .dark-card {
            padding: 1rem;
        }

        .dark-card h3 {
            font-size: 1.2rem;
        }

        .dark-badge {
            font-size: 0.8rem;
            padding: 0.2rem 0.6rem;
        }
    }
</style>

</body>
</html>