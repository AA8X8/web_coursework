<!-- login.html -->
<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head"/>
<body>
<div th:replace="fragments/navbar"></div>
<main class="container">
    <div style="max-width: 600px; margin: 0 auto;">
        <div class="text-center" style="margin-bottom: 2rem;">
            <h1>Вход в систему</h1>
            <p>Войдите в свой аккаунт для бронирования столиков</p>
        </div>

        <div th:if="${successMessage}" class="success-message">
            <p th:text="${successMessage}" style="margin: 0;"></p>
        </div>

        <form th:action="@{/users/login}" method="post">
            <div style="margin-bottom: 1rem;">
                <label for="username" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Логин или Email</label>
                <input id="username"
                       name="username"
                       th:value="${username}"
                       type="text"
                       placeholder="Введите логин или email"
                       style="width: 100%; padding: 0.75rem; border: 1px solid #dee2e6; border-radius: 0.375rem;"
                       required/>
            </div>

            <div style="margin-bottom: 1rem;">
                <label for="password" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Пароль</label>
                <input id="password"
                       name="password"
                       type="password"
                       placeholder="Введите пароль"
                       style="width: 100%; padding: 0.75rem; border: 1px solid #dee2e6; border-radius: 0.375rem;"
                       required/>
            </div>

            <div style="margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" name="remember-me" id="remember-me">
                <label for="remember-me" style="margin: 0;">Запомнить меня</label>
            </div>

            <div th:if="${badCredentials}" style="margin-bottom: 1rem; padding: 0.75rem; background-color: #f8d7da; color: #721c24; border-radius: 0.375rem;">
                <p style="margin: 0;">Неверный логин или пароль.</p>
            </div>

            <div th:if="${errorMessage}" style="margin-bottom: 1rem; padding: 0.75rem; background-color: #f8d7da; color: #721c24; border-radius: 0.375rem;">
                <p th:text="${errorMessage}" style="margin: 0;"></p>
            </div>

            <button type="submit" style="width: 100%; padding: 0.75rem; background-color: #667eea; color: white; border: none; border-radius: 0.375rem; font-size: 1rem; cursor: pointer;">Войти</button>
        </form>

        <div style="margin-top: 2rem; text-align: center;">
            <p>Еще нет аккаунта? <a href="/users/register">Зарегистрируйтесь</a></p>
            <p><a href="/static">Вернуться на главную</a></p>
        </div>
    </div>
</main>
<footer th:replace="fragments/footer"></footer>
</body>
</html>