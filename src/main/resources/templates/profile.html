<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/head :: head">
    <title>–ü—Ä–æ—Ñ–∏–ª—å - –°—Ç–æ–ª–∏–∫–û–Ω–ª–∞–π–Ω</title>
</head>
<body>
<div th:replace="fragments/navbar :: navbar"></div>

<main class="container">
    <hgroup>
        <h1>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h1>
        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é</p>
    </hgroup>

    <div class="grid">
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <article class="card">
            <div class="text-center">
                <div class="avatar-container">
                    <!-- –ê–≤–∞—Ç–∞—Ä —É–º–µ–Ω—å—à–µ–Ω –≤ 2 —Ä–∞–∑–∞ -->
                    <img th:src="${user.profilePictureUrl ?: '/pic/user-avatar.png'}"
                         alt="–ê–≤–∞—Ç–∞—Ä"
                         class="avatar-img"
                         onerror="this.onerror=null; this.src='/pic/user-avatar.png';">
                </div>
                <h2 class="user-name" th:text="${user.fullName} ?: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'"></h2>
                <p><strong>–õ–æ–≥–∏–Ω:</strong> <span th:text="${user.username}"></span></p>
                <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
                <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <span th:text="${user.phone}"></span></p>
                <p><strong>–í–æ–∑—Ä–∞—Å—Ç:</strong> <span th:text="${user.age} + ' –ª–µ—Ç'"></span></p>

                <div style="margin-top: 0.5rem;">
                    <strong>–†–æ–ª—å:</strong>
                    <span th:text="${roleDisplayName} ?: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'"></span>
                </div>
            </div>
        </article>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <article class="card">
            <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <div style="margin-top: 1rem;">
                <p><strong>–í—Å–µ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π:</strong>
                    <span th:text="${stats?.totalBookings != null} ? ${stats.totalBookings} : '0'"></span>
                </p>
                <p><strong>–ê–∫—Ç–∏–≤–Ω—ã–µ:</strong>
                    <span th:text="${stats?.activeBookings != null} ? ${stats.activeBookings} : '0'"></span>
                </p>
                <p><strong>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ:</strong>
                    <span th:text="${stats?.completedBookings != null} ? ${stats.completedBookings} : '0'"></span>
                </p>
                <p><strong>–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ:</strong>
                    <span th:text="${stats?.cancelledBookings != null} ? ${stats.cancelledBookings} : '0'"></span>
                </p>
            </div>

            <div style="margin-top: 1.2rem;">
                <a href="/bookings/my" class="secondary" style="display: block; text-align: center;">
                    –ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
                </a>
            </div>
        </article>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <section style="margin-top: 1.5rem;">
        <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
        <div class="grid">
            <a href="/restaurants/all" style="text-decoration: none;">
                <article class="card text-center">
                    <h3>üçΩÔ∏è –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</h3>
                    <p>–í—ã–±—Ä–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∏ —Å—Ç–æ–ª–∏–∫</p>
                </article>
            </a>

            <a href="/bookings/my" style="text-decoration: none;">
                <article class="card text-center">
                    <h3>üìã –ú–æ–∏ –±—Ä–æ–Ω–∏</h3>
                    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</p>
                </article>
            </a>

            <a href="/static" style="text-decoration: none;">
                <article class="card text-center">
                    <h3>üîç –ü–æ–∏—Å–∫</h3>
                    <p>–ù–∞–π—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</p>
                </article>
            </a>
        </div>
    </section>
</main>

<div th:replace="fragments/footer :: footer"></div>

<style>
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
    :root {
        --dark-bg: #1a1a1a;
        --card-bg: #2d2d2d;
        --card-border: #404040;
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
        --accent-color: #3498db;
        --accent-hover: #2980b9;
        --badge-bg: #3a3a3a;
        --success-bg: #155724;
        --error-bg: #721c24;
    }

    /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    body {
        background-color: var(--dark-bg);
        color: var(--text-primary);
    }

    /* –¢–µ–º–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .card {
        background-color: var(--card-bg);
        border: 1px solid var(--card-border);
        border-radius: 6px;
        padding: 1rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
    }

    .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        border-color: var(--accent-color);
    }

    /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
    .card h3 {
        color: var(--text-primary);
        margin-top: 0;
        font-size: 1.2rem;
        border-bottom: 1px solid var(--accent-color);
        padding-bottom: 0.3rem;
        margin-bottom: 0.6rem;
    }

    /* –¢–µ–∫—Å—Ç –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
    .card p {
        color: var(--text-secondary);
        margin: 0.3rem 0;
        font-size: 0.9rem;
    }

    /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
    .secondary {
        background-color: #555;
        color: white;
        border: 1px solid #666;
        padding: 0.5rem 0.8rem;
        border-radius: 4px;
        text-decoration: none;
        transition: all 0.3s ease;
        display: inline-block;
        text-align: center;
        font-weight: bold;
        font-size: 0.85rem;
    }

    .secondary:hover {
        background-color: #666;
        border-color: var(--accent-color);
        color: var(--accent-color);
    }

    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    h1 {
        color: var(--text-primary);
        text-align: center;
        margin-bottom: 0.3rem;
        font-size: 1.6rem;
    }

    hgroup p {
        color: var(--text-secondary);
        text-align: center;
        margin-bottom: 1.2rem;
        font-size: 0.95rem;
    }

    /* –°–µ—Ç–∫–∞ –≥—Ä–∏–¥–∞ */
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.2rem;
        margin-bottom: 1.2rem;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 1.2rem;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
    @media (max-width: 768px) {
        .grid {
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .container {
            padding: 0.8rem;
        }

        .avatar-img {
            width: 16px;  <!-- –£–º–µ–Ω—å—à–µ–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ -->
            height: 16px;
        }

        .user-name {
            font-size: 0.95rem;
        }
    }

    @media (max-width: 480px) {
        .card h3 {
            font-size: 1rem;
        }

        .grid {
            grid-template-columns: 1fr;
        }

        .card {
            padding: 0.8rem;
        }

        .avatar-img {
            width: 15px;  <!-- –ï—â–µ –Ω–µ–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö -->
            height: 15px;
        }

        .user-name {
            font-size: 0.9rem;
        }
    }
</style>

</body>
</html>