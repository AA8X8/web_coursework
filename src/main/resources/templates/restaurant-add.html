<!-- restaurant-add.html -->
<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/head :: head">
    <title>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω - –°—Ç–æ–ª–∏–∫–û–Ω–ª–∞–π–Ω</title>
</head>
<body>
<div th:replace="fragments/navbar :: navbar"></div>

<main class="container">
    <div style="max-width: 800px; margin: 0 auto;">
        <hgroup>
            <h1>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</h1>
            <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ</p>
        </hgroup>

        <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ -->
        <div sec:authorize="!hasAnyRole('ADMIN', 'MODERATOR')" class="card text-center">
            <h3>üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω</h3>
            <p>–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</p>
            <a href="/static" class="secondary" style="margin-top: 1rem;">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>

        <!-- –§–æ—Ä–º–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ -->
        <div sec:authorize="hasAnyRole('ADMIN', 'MODERATOR')">
            <form th:action="@{/restaurants/add}" method="post" th:object="${restaurantDto}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                <div class="grid">
                    <div>
                        <label>
                            –ù–∞–∑–≤–∞–Ω–∏–µ *
                            <input type="text"
                                   th:field="*{name}"
                                   th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ''"
                                   placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞"
                                   required>
                            <small th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
                                   class="error-message"></small>
                        </label>
                    </div>

                    <div>
                        <label>
                            –ö—É—Ö–Ω—è *
                            <input type="text"
                                   th:field="*{cuisine}"
                                   th:classappend="${#fields.hasErrors('cuisine')} ? 'is-invalid' : ''"
                                   placeholder="–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è, –Ø–ø–æ–Ω—Å–∫–∞—è..."
                                   required>
                            <small th:if="${#fields.hasErrors('cuisine')}" th:errors="*{cuisine}"
                                   class="error-message"></small>
                        </label>
                    </div>
                </div>

                <label>
                    –ê–¥—Ä–µ—Å *
                    <input type="text"
                           th:field="*{address}"
                           th:classappend="${#fields.hasErrors('address')} ? 'is-invalid' : ''"
                           placeholder="–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å"
                           required>
                    <small th:if="${#fields.hasErrors('address')}" th:errors="*{address}"
                           class="error-message"></small>
                </label>

                <label>
                    –û–ø–∏—Å–∞–Ω–∏–µ *
                    <textarea th:field="*{description}"
                              th:classappend="${#fields.hasErrors('description')} ? 'is-invalid' : ''"
                              rows="4"
                              placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞..."
                              required></textarea>
                    <small th:if="${#fields.hasErrors('description')}" th:errors="*{description}"
                           class="error-message"></small>
                </label>

                <div class="grid">
                    <div>
                        <label>
                            –¢–µ–ª–µ—Ñ–æ–Ω *
                            <input type="tel"
                                   th:field="*{phone}"
                                   th:classappend="${#fields.hasErrors('phone')} ? 'is-invalid' : ''"
                                   placeholder="+7 (999) 123-45-67"
                                   required>
                            <small th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"
                                   class="error-message"></small>
                        </label>
                    </div>

                    <div>
                        <label>
                            Email *
                            <input type="email"
                                   th:field="*{email}"
                                   th:classappend="${#fields.hasErrors('email')} ? 'is-invalid' : ''"
                                   placeholder="restaurant@example.com"
                                   required>
                            <small th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                                   class="error-message"></small>
                        </label>
                    </div>
                </div>

                <div class="grid">
                    <div>
                        <label>
                            –í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è *
                            <input type="time"
                                   th:field="*{openingTime}"
                                   th:classappend="${#fields.hasErrors('openingTime')} ? 'is-invalid' : ''"
                                   required>
                            <small th:if="${#fields.hasErrors('openingTime')}" th:errors="*{openingTime}"
                                   class="error-message"></small>
                        </label>
                    </div>

                    <div>
                        <label>
                            –í—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è *
                            <input type="time"
                                   th:field="*{closingTime}"
                                   th:classappend="${#fields.hasErrors('closingTime')} ? 'is-invalid' : ''"
                                   required>
                            <small th:if="${#fields.hasErrors('closingTime')}" th:errors="*{closingTime}"
                                   class="error-message"></small>
                        </label>
                    </div>
                </div>

                <div class="grid">
                    <div>
                        <label>
                            –†–µ–π—Ç–∏–Ω–≥ (0-5) *
                            <input type="number"
                                   th:field="*{rating}"
                                   th:classappend="${#fields.hasErrors('rating')} ? 'is-invalid' : ''"
                                   step="0.1" min="0" max="5"
                                   placeholder="4.5"
                                   required>
                            <small th:if="${#fields.hasErrors('rating')}" th:errors="*{rating}"
                                   class="error-message"></small>
                        </label>
                    </div>

                    <div>
                        <label>
                            –¶–µ–Ω–æ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å *
                            <select th:field="*{priceLevel}"
                                    th:classappend="${#fields.hasErrors('priceLevel')} ? 'is-invalid' : ''"
                                    required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                                <option value="1">üí∞ –ù–∏–∑–∫–∏–π</option>
                                <option value="2">üí∞üí∞ –°—Ä–µ–¥–Ω–∏–π</option>
                                <option value="3">üí∞üí∞üí∞ –í—ã—Å–æ–∫–∏–π</option>
                            </select>
                            <small th:if="${#fields.hasErrors('priceLevel')}" th:errors="*{priceLevel}"
                                   class="error-message"></small>
                        </label>
                    </div>
                </div>

                <div class="grid">
                    <div>
                        <label>
                            –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å *
                            <input type="number"
                                   th:field="*{maxCapacity}"
                                   th:classappend="${#fields.hasErrors('maxCapacity')} ? 'is-invalid' : ''"
                                   min="1"
                                   placeholder="50"
                                   required>
                            <small th:if="${#fields.hasErrors('maxCapacity')}" th:errors="*{maxCapacity}"
                                   class="error-message"></small>
                        </label>
                    </div>

                    <div>
                        <label>
                            –§–æ—Ç–æ (URL)
                            <input type="url"
                                   th:field="*{photoUrl}"
                                   th:classappend="${#fields.hasErrors('photoUrl')} ? 'is-invalid' : ''"
                                   placeholder="https://example.com/photo.jpg">
                            <small th:if="${#fields.hasErrors('photoUrl')}" th:errors="*{photoUrl}"
                                   class="error-message"></small>
                        </label>
                    </div>
                </div>

                <button type="submit" class="contrast" style="width: 100%; margin-top: 1rem;">
                    –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω
                </button>
            </form>
        </div>
    </div>
</main>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>